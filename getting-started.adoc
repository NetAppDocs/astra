---
sidebar: sidebar
permalink: getting-started.html
summary: Get up and running with Project Astra
---

= Getting Started
:imagesdir: assets/getting-started/

This document is intended for users that are evaluating Project Astra during the
alpha phase running from June 4th to July 4th 2020.

== Requirements

This is a quick summary of the steps to get up and running with Project Astra.

* Register with Cloud Central.
* Get invited to an Astra Organization.
* Setup GCP account and Project.
** Grant required Service Account permissions.
** Generate a GCP (Google Compute Platform) Service Account token (JSON).
** VPC / CVS setup.
* Provision one or more GKE (Google Kubernetes Engine) cluster(s).
** Kubernetes version >= 1.17.0 (from Rapid Release Channel).
** Ubuntu worker nodes.
** Zonal deployment in a CVS supported region. (us-east4, us-west2, us-central1)
* Start evaluating / apps.

== Register with Cloud Central

If you don't have an account registered at https://cloud.netapp.com/home[NetApp Cloud Central] yet, please create one.

Open Cloud Central using the link above and accept the notice regarding browser cookies.

image::cloud-central-register-accept-cookies.png[Cloud Central Accept Cookies]

Use the *SIGN UP* link in the upper right corner to begin the sign up process.

image::cloud-central-sign-up.png[Cloud Central Sign Up]

You will be redirected to https://netapp-cloud-account.auth0.com[NetApp Cloud Account at Auth0]

image::cloud-central-account-sign-up.png[Cloud Central Account Sign Up]

Complete the required form fields and your NetApp Cloud Central account will be created.

=== Verify Email Address

If you already have an account, please verify the email address that you have registered with by expanding the *User Settings* sidebar. Your email address should appear in the area highlighted below labeled "Email."

image::cloud-central-user-settings.png[Cloud Central User Settings]

Provide this exact email address to whomever is inviting you to Project Astra.

=== Invitation to Preview Project Astra

Your invitation to preview Project Astra will arrive by e-mail.

image::email-invitation-to-join.png[Email Invitation]

The *Join Now* button will prompt you to accept the invitation.

image::accept-invitation.png[Accept Invitation]

Welcome to the Project Astra dashboard!

image::invitation-welcome-dashboard.png[Welcome Dashboard]

=== Invite Someone to Project Astra

If you would like to invite additional users to see Project Astra, choose *Organization* from the left navigation menu. Then press the *+ Invite users* button.

image::invite-organization.png[Invite Organization]

There are two sections on the *Invite users* page. In the *USERS TO INVITE* section, provide the name and email address of the user you would like to invite. Multiple invitations can be sent simultaneously by using the *+ Add another user* button.

image::invite-users.png[Invite Users]

In the *ADD TO TEAM* section, press the button labeled *Not selected* in the *Status* column to select the team that the users should be invited to join. The button will toggle between *Not Selected* and *Selected*.

image::invite-select-team.png[Select Team]

Once you have at least one user to invite and one team selected, press the *Send invite's* button in the lower right corner.

You will be returned to the *Organization* screen and see that your new user's details have been added with the *State* column showing as *Pending*.

image::invitation-pending.png[Invitation Pending]

If you want to cancel the invitation, change the *State* to *Remove user*.

image::invitation-pending-remove.png[Invitation Pending Remove]

You will be prompted to type the name of the user. Then press the red *Yes, Remove User* button to complete the removal request.

image::invitation-confirm-remove-user.png[Invitiation Confirm Remove User]

== Provision a Cluster Using GKE

Evaluating Project Astra requires one or more GKE clusters. There are multiple ways to provision a cluster that will work with Project Astra. This is one method using the Google Cloud Platform web UI.

Log into the https://console.cloud.google.com[Google Cloud Platform Console]

Please confirm that you have the correct project selected. The current project is highlighted in yellow in the image below.

image::gcp-gke-dashboard.png[GCP GKE Dashboard]

Use the left navigation menu to choose *Kubernetes Engine->Clusters*

Use the *+Create Cluster* link to start configuring a GKE cluster.

image::gcp-gke-cluster-basics.png[GCP GKE Cluster Basics]

Give your cluster a name or accept the supplied value.

In order to access GCP CVS, the cluster must be provisioned one of these zones.

* us-east4
* us-central1
* us-west2

The location should remain set to *Zonal*. Make a selection under "Location type" by choosing your preferred *Zone* from the drop-down.

Project Astra utilizes features that are only available in Kubernetes v1.17 and higher. As of this writing, Kubernetes 1.17 is not available as a selectable option in the default "Static version" drop-down menu.

In the "Master version" section, activate the *Release channel* radio button and then choose *Rapid channel-1.17.5-gke-0*. The exact value will change as Google deploys new releases of Kubernetes.

Using the left navigation menu, expand *default-pool* under "NODE POOLS" and select *Nodes*.

image::gcp-gke-nodes.png[GCP GKE Nodes]

Under "Image type" select *Ubuntu*.

You are welcome to adjust the other values as you see fit. The defaults should work fine for evaluating Project Astra.

TIP: Before hitting the "CREATE" button, you may want to switch to the "Metadata" section (under CLUSTER, not NODE POOLS) and add one or more labels to this cluster.

image::gcp-gke-metadata-labels.png[GCP GKE Metadata Labels]

In the example image, a label has been added with `creator` as the key.

When you are done with the configuration, press the *CREATE* button to continue.

Once the cluster has been provisioned it will appear in the list.

image::gcp-gke-clusters.png[GCP GKE Clusters]

== Register the Cluster with Project Astra

For best results, please use the Chrome browser when evaluating Project Astra.

You will be invited into a Project Astra organization by an existing user.

The invitation will come via e-mail and contains a link. You'll need to have avalid https://cloud.netapp.com[Cloud Central] account matching the e-mailaddress that was invited in order to accept.

Project Astra is available at https://astra.netapp.com.

When logged in you will see the dashboard.

image::astra-welcome-dashboard.png[Astra Welcome Dashboard]

Use the left navigation menu to select *Compute* under *DATA*. The main window will either be empty or display a list of Kubernetes clusters that are already registered with Project Astra. Click the *+ Add cluster* button to begin the cluster registration process.

image::astra-compute-add-cluster.png[Astra Compute Add Cluster]

The default provider is set to "Google Cloud Platform." Microsoft Azure and AWS will be enabled at a future date.

image::astra-select-provider.png[Astra Select Provider]

"Service account JSON" is generated in the GCP console IAM section. More information on creating the service account are found in this can be found in link:credentials-gcp.adoc[Credentials GCP].

Once you have the service account JSON saved as a file, use the "Upload file" option. (Highlighted in yellow in the image above.)

image::astra-sa-upload-file.png[Service Account JSON Upload File]

Choose the appropriate `.json` file and upload it. If you prefer to copy and paste the service account JSON, choose "Paste from Clipboard." If you have previously added a service account, you can select it from the "Use existing" tab.

image::astra-sa-file-uploaded.png[Service Account JSON File Uploaded]

"Service account name" will be automatically generated based on the `client_email` value contained in the service account JSON. You are welcome to change it if you wish. This value will appear later under "Use existing" to identify this set of service account credentials.

Press the *Discover clusters* button to continue. You will see a list of Kubernetes clusters that are currently provisioned.

image::astra-add-compute-select-a-cluster.png[Add Compute Select a Cluster]

Choose a cluster by clicking the *Not selected* button. *Not selected* will update to *Selected* with a blue checkmark. Continue by pressing the *Configure storage* button.

image::astra-add-compute-cluster-selected.png[Add Compute Cluster Selected]

In this configuration step, choose a storage class and press *Review information*. (*EJK - Do we want to explain any details about these here, or link to another document?*)

image::add-compute-select-storage-type.png[Add Compute Select Storage Type]

Please review the information presented on the summary screen.

image::add-compute-review-selection.png[Add Compute Review Selection]

You can navigate back to previous steps if you notice something that needs to be changed. When it all looks good, press *Add compute*.

image::add-compute-cluster-status-updating.png[Add Compute Cluster Status Updating]

An information block will provide some status updates as the Kubernetes cluster is registered with Project Astra. When the process completes, you should see your cluster showing as *Available*.

image::add-compute-complete.png[Add Compute Complete]

END (*EJK where do we send users next?*)
